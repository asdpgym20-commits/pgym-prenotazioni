{% extends "base.html" %}
{% block content %}
<h1>Profilo cliente</h1>
<div class="mb-3">
  <div><strong>Nome:</strong> {{ member.name }}</div>
  <div><strong>Email:</strong> {{ member.email or '—' }}</div>
  <div><strong>Telefono:</strong> {{ member.phone or '—' }}</div>
</div>

<h5>Le mie prenotazioni</h5>
{% if not bookings %}
  <p class="text-muted">Non hai ancora prenotazioni.</p>
{% else %}
  <ul class="list-group">
    {% for b in bookings %}
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <strong>{{ b.class_session.title }}</strong>
          <small class="text-muted"> — {{ b.class_session.date.strftime('%d/%m/%Y') }} • {{ b.class_session.start_time.strftime('%H:%M') }}</small>
        </div>
        <a class="btn btn-sm btn-outline-primary" href="{{ url_for('ics_booking', booking_id=b.id) }}">.ics</a>
      </li>
    {% endfor %}
  </ul>
{% endif %}

<div class="mt-3">
  <a class="btn btn-outline-secondary" href="/">← Torna alla home</a>
  <a class="btn btn-outline-danger" href="/logout-member">Esci</a>
</div>
{% endblock %}
